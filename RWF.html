<!DOCTYPE html>
<html>
<head>
	<link rel="icon" sizes="16x16" href="./resources/rock.jpg">
	<title>Rock Whatever F...</title>
	<script>
		var items=["Rock","Whatever","Fuck"];
		var colors=["#F99","#99F","#9F9"];
		var colorss=["#900","#009","#090"];
		var wins=["Lose","Draw","Win"];
		var points=0;
		
		
		function pick(item) {
			var winner=0;
			var enemy=Math.floor(Math.random()*3);
			if (enemy==(item+1)%3) {winner=-1;}
				else if (item==(enemy+1)%3) {winner=1;}
			if (Math.random()>0.99) {winner=-winner;}
			
			points+=winner;
			//document.getElementById(item).color="red";
			document.getElementById("you").innerHTML=items[item];
			document.getElementById("you").style.backgroundColor=colors[winner+1];
			document.getElementById("enemy").innerHTML=items[enemy];
			document.getElementById("enemy").style.backgroundColor=colors[-winner+1];
			document.getElementById("win").innerHTML = wins[winner+1];
			document.getElementById("win").style.color=colorss[winner+1];
			//document.getElementById("youCell").colSpan = 3+winner;
			//document.getElementById("enemyCell").colSpan = 3-winner;
			 document.getElementById("points").innerHTML = "Points: "+points;
			 document.cookie="points="+points+";";
		}
		
		//stolen
		function getCookie(cname) {
			var name = cname + "=";
			var ca = document.cookie.split(';');
			for(var i=0; i<ca.length; i++) {
				var c = ca[i];
				while (c.charAt(0)==' ') c = c.substring(1);
				if (c.indexOf(name) == 0) points=c.substring(name.length,c.length);
			}
		}
		
		window.onload = getCookie;
	</script>
</head>

<body>
	<table border="1">
		<tr>
			<th colspan="2"><input type="button" value="Rock"     onclick="pick(0)"></th>
			<th colspan="2"><input type="button" value="Whatever" onclick="pick(1)"></th>
			<th colspan="2"><input type="button" value="Fuck"     onclick="pick(2)"></th>
		</tr>
		<tr>
			<td colspan="3" align="center" id="youCell"><b>You:    </b><div id="you">-</div>  </td>
			<td colspan="3" align="center" id="enemyCell"><b>Enemy:</b><div id="enemy">-</div></td>
		</tr>
		<tr>
			<td colspan="2" id="win">-</td>
			<td colspan="4" id="points">Points: 0</td>
		</tr>
	</table>
	<!--<br><br><br><br><br><br><br><br><br><br>-->
	<footer style="position: fixed; bottom: 0.5em;">&copy; Lumage 2016</footer>
</body>
</html> 
