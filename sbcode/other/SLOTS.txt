ACLS:XSCREEN 3:BGFILL 0,0,0,24,14,563:FOR I=1TO 3BGFILL 0,5*I+1,3,5*I+3,12,0NEXT:COLOR #TYELLOW:LOCATE 21,3?"Match 3!":LOCATE 5,15?""LOCATE 5,16?""LOCATE 41,15?""LOCATE 41,16?""LOCATE 25,28?"SBS Summer Contest 2017"LOCATE 2,28?"JustGreat"DIM S[3],R[3]FOR I=0TO 2S[I]=RND(7)NEXT:WHILE 1IF (R[0]+R[1]+R[2]) THEN:INC T%:ELSE IF B(#X) THEN FILL R,1:ENDIF:T%=1:ENDIF:IF !F*B(#Y)THEN:R[0]=0:ENDIF:IF !F*B(#B)THEN:R[1]=0:ENDIF:IF !F*B(#A)THEN:R[2]=0:ENDIF F=(T% MOD 8)FOR I=0TO 2IF!(F)THEN:IF R[I]THEN INC S[I]:IF S[I]>6THEN S[I]=0:ENDIF:ENDIF:ENDIF:FOR J=0TO 4SPSET I*5+J,L(S[I]+J+1)SPSET I*3+J+15,306SPSCALE I*5+J,3,3SPSCALE I*3+J+15,3,3IF R[I] THEN:SPOFS I*5+J,I*80+96,-8+(J*56)-((F)*7),1:ELSE:SPOFS I*5+J,I*80+96,-8+(J*56),1:ENDIF:SPOFS (I*3+J)+15,I*80+96,48+(J*56),1NEXT:NEXT:IF(S[0]==S[1])*(S[1]==S[2])*!(R[0]+R[1]+R[2])THEN DIALOG"CONGRATS!  Three in a row!"FOR I=0TO 2:S[I]=RND(7):NEXT:ENDIF:VSYNC 1WEND DEF B(N):RETURN BUTTON()AND N:END:DEF L(N):M=N:IF N>6THEN:M=N-7:ENDIF:IF N<0THEN M=N+7:ENDIF:RETURN M:END
